# ğŸ“Š Arquitectura del Sistema

## Diagrama de Flujo General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SISTEMA COMPLETO                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CÃMARA WEB        â”‚
â”‚   (Input Device)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Stream de video
           â”‚ 30 FPS
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DETECTOR DE PERSONAS (C++ + OpenCV)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  1. Captura Frame                                        â”‚  â”‚
â”‚  â”‚  2. Preprocesamiento (resize, normalizaciÃ³n)             â”‚  â”‚
â”‚  â”‚  3. Inferencia YOLO.onnx                                 â”‚  â”‚
â”‚  â”‚  4. Post-procesamiento (NMS, filtrado)                   â”‚  â”‚
â”‚  â”‚  5. Â¿Persona detectada?                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  SI â†’ Guarda imagen + Inicia grabaciÃ³n video (5s)               â”‚
â”‚  NO â†’ ContinÃºa capturando                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ HTTP POST (libcurl)
                            â”‚ Telegram Bot API
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BOT DE TELEGRAM (Python + PyTorch)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  1. Recibe imagen/video                                  â”‚  â”‚
â”‚  â”‚  2. Preprocesamiento (resize, formato)                   â”‚  â”‚
â”‚  â”‚  3. Inferencia MMPose/OpenPose                           â”‚  â”‚
â”‚  â”‚  4. ExtracciÃ³n de keypoints (17 puntos COCO)             â”‚  â”‚
â”‚  â”‚  5. AnÃ¡lisis de postura (tipo: erguida, caÃ­da, etc.)     â”‚  â”‚
â”‚  â”‚  6. GeneraciÃ³n de visualizaciones                        â”‚  â”‚
â”‚  â”‚  7. CreaciÃ³n de video animado (5s)                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ Telegram Bot API
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USUARIO EN TELEGRAM                           â”‚
â”‚                                                                   â”‚
â”‚  Recibe 3 archivos:                                              â”‚
â”‚  âœ… 1. Imagen original (con bbox)                                â”‚
â”‚  âœ… 2. Imagen con postura (esqueleto superpuesto)                â”‚
â”‚  âœ… 3. Video corto (5 segundos con animaciÃ³n)                    â”‚
â”‚                                                                   â”‚
â”‚  + InformaciÃ³n:                                                  â”‚
â”‚  â€¢ NÃºmero de personas detectadas                                â”‚
â”‚  â€¢ Tipo de postura                                              â”‚
â”‚  â€¢ Nivel de confianza                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Diagrama de Componentes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     COMPONENTE C++                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   main.cpp      â”‚â”€â”€â”€â”€>â”‚  PersonDetector  â”‚                 â”‚
â”‚  â”‚                 â”‚     â”‚     (class)      â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                   â”‚                            â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚                    â†“              â†“              â†“            â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚         â”‚ YOLO Model   â”‚  â”‚ VideoCapture â”‚  â”‚   Telegram   â”‚ â”‚
â”‚         â”‚  (.onnx)     â”‚  â”‚   (OpenCV)   â”‚  â”‚    Sender    â”‚ â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  LibrerÃ­as:                                                    â”‚
â”‚  â€¢ OpenCV 4.x (cv::dnn)                                       â”‚
â”‚  â€¢ libcurl (HTTP)                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     COMPONENTE PYTHON                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   main.py       â”‚â”€â”€â”€â”€>â”‚  Telegram Bot    â”‚                 â”‚
â”‚  â”‚  (Bot handlers) â”‚     â”‚   Application    â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                   â”‚                            â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚                    â†“              â†“              â†“            â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚         â”‚PoseDetector  â”‚  â”‚VideoProcessorâ”‚  â”‚  Config      â”‚ â”‚
â”‚         â”‚  (MMPose)    â”‚  â”‚  (MoviePy)   â”‚  â”‚  Module      â”‚ â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  LibrerÃ­as:                                                    â”‚
â”‚  â€¢ python-telegram-bot                                        â”‚
â”‚  â€¢ PyTorch + MMPose                                           â”‚
â”‚  â€¢ OpenCV-Python                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Flujo de Datos Detallado

### 1ï¸âƒ£ DetecciÃ³n en C++

```
Frame de cÃ¡mara (1280x720, BGR)
    â†“
Resize a 640x640
    â†“
NormalizaciÃ³n (0-1)
    â†“
YOLO Inference
    â†“
Detecciones [x, y, w, h, conf, class]
    â†“
Filtrado (solo class=0 "person", conf>0.5)
    â†“
NMS (Non-Maximum Suppression)
    â†“
Bounding Boxes finales
    â†“
SI detecciÃ³n:
  - Guardar imagen: detection_TIMESTAMP.jpg
  - Iniciar grabaciÃ³n: 5s @ 30fps = 150 frames
  - Enviar a Telegram: sendPhoto() + sendVideo()
```

### 2ï¸âƒ£ Procesamiento en Bot

```
Recibir archivo (Telegram API)
    â†“
Descargar a /outputs/detections/
    â†“
Leer imagen con cv2.imread()
    â†“
Inferencia MMPose/OpenPose
    â†“
Keypoints: numpy array (N, 17, 2)
         N = nÃºmero de personas
         17 = puntos COCO
         2 = coordenadas (x, y)
    â†“
Scores: numpy array (N, 17)
      Confianza por keypoint
    â†“
Filtrar keypoints con score < 0.3
    â†“
Dibujar esqueleto:
  - Conexiones (lÃ­neas verdes)
  - Keypoints (cÃ­rculos rojos)
    â†“
AnÃ¡lisis de postura:
  - Calcular Ã¡ngulos
  - Clasificar: erguida/agachada/caÃ­da
    â†“
Generar video animado (zoom, rotaciÃ³n, etc.)
    â†“
Enviar 3 archivos a Telegram:
  1. Imagen original
  2. Imagen con postura
  3. Video animado
```

---

## Estructura de Datos

### YOLO Output

```cpp
// Formato de salida de YOLO
struct Detection {
    float x;         // Centro X (normalizado)
    float y;         // Centro Y (normalizado)
    float w;         // Ancho (normalizado)
    float h;         // Alto (normalizado)
    float conf;      // Confianza de detecciÃ³n
    int class_id;    // ID de clase (0 = person)
};

// DespuÃ©s de NMS
vector<cv::Rect> boxes = {
    {x: 100, y: 50, width: 200, height: 400},
    {x: 500, y: 100, width: 180, height: 380}
};
```

### MMPose Output

```python
# Formato de keypoints (COCO 17 puntos)
keypoints = np.array([
    # Persona 1
    [
        [x1, y1],  # 0: nose
        [x2, y2],  # 1: left_eye
        [x3, y3],  # 2: right_eye
        # ... hasta 16
    ],
    # Persona 2
    [...]
])

scores = np.array([
    [0.9, 0.85, 0.88, ...],  # Confianza persona 1
    [0.92, 0.87, 0.91, ...]  # Confianza persona 2
])
```

---

## Pipeline de Procesamiento

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TIEMPO REAL (30 FPS)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

t=0ms     â”‚ Captura frame
          â†“
t=5ms     â”‚ Resize + NormalizaciÃ³n
          â†“
t=15ms    â”‚ YOLO Inference (CUDA: ~10ms, CPU: ~50ms)
          â†“
t=20ms    â”‚ Post-procesamiento (NMS)
          â†“
t=22ms    â”‚ Dibujar visualizaciones
          â†“
t=25ms    â”‚ Mostrar en pantalla
          â†“
t=33ms    â”‚ PrÃ³ximo frame (30 FPS = 33ms por frame)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  CUANDO HAY DETECCIÃ“N                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

t=0ms     â”‚ DetecciÃ³n confirmada
          â†“
t=10ms    â”‚ Guardar imagen
          â†“
t=20ms    â”‚ Iniciar grabaciÃ³n video
          â†“
t=5000ms  â”‚ Detener grabaciÃ³n (5 segundos)
          â†“
t=5100ms  â”‚ Guardar video
          â†“
t=5200ms  â”‚ Enviar a Telegram (HTTP POST)
          â†“
          â”‚ [Procesamiento en Bot - asÃ­ncrono]
          â†“
t=7000ms  â”‚ Bot recibe archivos
          â†“
t=9000ms  â”‚ Inferencia de postura (~2s)
          â†“
t=10000ms â”‚ Generar visualizaciones
          â†“
t=12000ms â”‚ Usuario recibe resultados en Telegram
```

---

## MÃ©tricas de Rendimiento Esperadas

### Detector C++ (con GPU)
```
FPS: 25-30 (tiempo real)
Inferencia YOLO: 10-15 ms
Post-procesamiento: 5 ms
Total por frame: ~30-40 ms
Memoria RAM: ~500 MB
```

### Detector C++ (sin GPU)
```
FPS: 10-15
Inferencia YOLO: 50-80 ms
Post-procesamiento: 5 ms
Total por frame: ~60-100 ms
Memoria RAM: ~300 MB
```

### Bot Python
```
Carga de modelo: 2-3 s (una vez)
Inferencia por imagen: 1-2 s
GeneraciÃ³n de video: 3-5 s
Memoria RAM: ~2 GB (con modelo cargado)
```

---

## Optimizaciones Implementadas

### C++
1. **Uso de OpenCV DNN con CUDA** (si disponible)
2. **NMS para reducir detecciones duplicadas**
3. **Cooldown de 3s** entre detecciones para evitar spam
4. **Filtrado por Ã¡rea mÃ­nima** (5000 pxÂ²)
5. **CompresiÃ³n de video** (codec mp4v)

### Python
1. **Modelo preentrenado** (sin entrenamiento)
2. **Procesamiento asÃ­ncrono** en el bot
3. **CachÃ© de modelo en memoria**
4. **CompresiÃ³n de imÃ¡genes** antes de enviar
5. **Modo simulado** si MMPose no estÃ¡ disponible

---

## Diagrama de Estados

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DETECTOR C++                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   INICIO    â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â†“
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  CAPTURANDO â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜               â”‚
            â”‚                      â”‚
            â”‚ Persona detectada    â”‚
            â†“                      â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
     â”‚  GRABANDO   â”‚               â”‚ No hay personas
     â”‚   VIDEO     â”‚               â”‚ o cooldown activo
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜               â”‚
            â”‚                      â”‚
            â”‚ 5 segundos           â”‚
            â†“                      â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
     â”‚  ENVIANDO   â”‚               â”‚
     â”‚  TELEGRAM   â”‚               â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜               â”‚
            â”‚                      â”‚
            â”‚ Enviado              â”‚
            â†“                      â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
     â”‚  COOLDOWN   â”‚               â”‚
     â”‚   (3s)      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

Este documento describe la arquitectura completa del sistema de detecciÃ³n de personas y anÃ¡lisis de postura.
